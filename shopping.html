<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <title>Shop | ConsumerNation</title>
      <link href="css/bootstrap.min.css" rel="stylesheet">
      <link href="css/font-awesome.min.css" rel="stylesheet">
      <link href="css/prettyPhoto.css" rel="stylesheet">
      <link href="price-range.css" rel="stylesheet">
      <link href="css/animate.css" rel="stylesheet">
      <link href="css/main.css" rel="stylesheet">
      <link href="css/responsive.css" rel="stylesheet">
      <script src="js/jquery.js"></script>
      <script src="js/jquery-1.8.2.min.js"></script>
      <script src="js/bootstrap.min.js"></script>
      <script src="js/jquery.scrollUp.min.js"></script>
      <script src="js/require.js"></script>
      <script src="js/jquery.popupoverlay.js"></script>
      <script src="js/price-range.js"></script>
      <script src="js/jquery.prettyPhoto.js"></script>
      <script src="js/main.js"></script>
      <script scr="js/cart.js"></script>
      <script src="js/canvasjs.min.js"></script>
      <script src="js/carbongraph.js"></script>
      <script src="js/index.js"></script>
   </head>
   <body>
      <section>
         <header id="header">
            <!--header-->
            <div class="header-middle">
               <div class="container">
                  <div class="row">
                     <div class="col-sm-4">
                        <div class="logo pull-left">
                           <a href="index.html"><img src="images/home/logo.png" alt="" /></a>
                        </div>
                     </div>
                     <div class="col-sm-8">
                        <!---Shopping cart--->
                        <div class="shop-menu pull-right">
                           <ul class="nav navbar-nav">
                              <li><a href="#" id="cart" class="cart_open"><i class="fa fa-shopping-cart"></i> Shopping List <span class="badge" id="total_items">0</span></a></li>
                           </ul>
                        </div>
                        <div id="shopping_list" class="popups shopping_list">
                           <b>Shopping List</b><br><br>
						   <table id="slist">
								<tr></tr>
						   </table><br>
						   <b>Shopping List Total:  </b> <p id="cart_total"> </p><br>
                           <button class="shopping_list_close">Close</button>
                        </div>
                        <!---Search bar that doesn't work--->
                        <div class="search_box pull-right">
                           <input type="text" placeholder="Search"/>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </header>
         <div class="container">
            <div class="row">
               <div class="col-sm-3">
                  <div class="left-sidebar">
                     <h2>Filters</h2>
                     <div class="panel-group category-products" id="accordian">
                        <!--category-productsr-->
                        <div class="panel panel-default">
                           <div class="panel-heading">
                              <h4 class="panel-title">
                                 <a data-toggle="collapse" data-parent="#accordian" href="#sportswear">
                                 <span class="badge pull-right"><i class="fa fa-plus"></i></span>
                                 Category
                                 </a>
                              </h4>
                           </div>
                           <div id="sportswear" class="panel-collapse collapse">
                              <div class="panel-body">
                                 <ul>
                                    <li><a href="#">Clothing </a></li>
                                    <li><a href="#">Shoes </a></li>
                                    <li><a href="#">Accessories </a></li>
                                    <li><a href="#">Home</a></li>
                                    <li><a href="#">Electronics </a></li>
                                 </ul>
                              </div>
                           </div>
                        </div>
                     </div>
                     <!--/category-products-->
                     <!--/price-range-->
                     <div class="carbon-graph">
                        <!--carbon graph--->
                        <h2>Carbon Graph</h2>
                        <div class="well text-center">
                           <button class="my_popup_open">Open popup</button>				
                           <div id="my_popup" class="popups">
                              <div id="chartContainer" style="height: 400px; width: 100%;"></div>
                              <b>distance:</b> <input type="number" id="distance"></input><br>
                              <b>store name:</b> <input type="text" id="store_name"></input><br>
                              <b>travel:</b> 
                              <select id="travel">
                                 <option>Car</option>
                                 <option>Metrobus</option>
                                 <option>Lightrail</option>
                                 <option>Walking or biking</option>
                              </select>
                              <br>
                              <input class="materials" id="chkBox1" type="checkbox" value="spandex"> Spandex<br>
                              <input class="materials" id="chkBox2" type="checkbox" value="cotton"> Cotton <br>
                              <input class="materials" id="chkBox3" type="checkbox" value="polyester"> Polyester<br>
                              <button type="button" id="calculate" onclick="calculate()">graph cfootprint!</button>
                              <div id="cfp"></div>
                              <button class="my_popup_close">Close</button>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="col-sm-9 padding-right">
                  <div class="features_items">
                     <!--features_items-->
                     <h2 class="title text-center">Features Items</h2>
                     <div class="col-sm-4">
                        <div class="product-image-wrapper">
                           <div class="single-products">
                              <div class="productinfo text-center">
                                 <img src="images/home/product1.jpg" alt="" />
                                 <h2>$70.99</h2>
                                 <p>Record Player</p>
                              </div>
                           </div>
                           <div class="choose">
                              <ul class="nav nav-pills nav-justified">
                                 <li onclick="addToCart('images/home/product1.jpg','Record Player', '70.99')"><a href="#"><i class="fa fa-shopping-cart"></i>Add to Shopping List</a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="col-sm-4">
                        <div class="product-image-wrapper">
                           <div class="single-products">
                              <div class="productinfo text-center">
                                 <img src="images/home/product2.jpg" alt="" />
                                 <h2>$8.99</h2>
                                 <p>Fuzzy Cat Socks</p>
                              </div>
                           </div>
                           <div class="choose">
                              <ul class="nav nav-pills nav-justified">
                                 <li onclick="addToCart('images/home/product2.jpg','Fuzzy Cat Socks', '8.99')"><a href="#"><i class="fa fa-shopping-cart"></i>Add to Shopping List</a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="col-sm-4">
                        <div class="product-image-wrapper">
                           <div class="single-products">
                              <div class="productinfo text-center">
                                 <img src="images/home/product3.jpg" alt="" />
                                 <h2>$10.99</h2>
                                 <p>Llama Beanie</p>
                              </div>
                           </div>
                           <div class="choose">
                              <ul class="nav nav-pills nav-justified">
                                 <li onclick="addToCart('images/home/product3.jpg','Llama Beanie', '10.99')"><a href="#"><i class="fa fa-shopping-cart"></i>Add to Shopping List</a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="col-sm-4">
                        <div class="product-image-wrapper">
                           <div class="single-products">
                              <div class="productinfo text-center">
                                 <img src="images/home/product4.jpg" alt="" />
                                 <h2>$15.99</h2>
                                 <p>Unicorn Plush Slippers</p>
                              </div>
                           </div>
                           <div class="choose">
                              <ul class="nav nav-pills nav-justified">
                                 <li onclick="addToCart('images/home/product4.jpg','Unicorn Plush Slippers', '15.99')"><a href="#"><i class="fa fa-shopping-cart"></i>Add to Shopping List</a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="col-sm-4">
                        <div class="product-image-wrapper">
                           <div class="single-products">
                              <div class="productinfo text-center">
                                 <img src="images/home/product5.jpg" alt="" />
                                 <h2>$129.99</h2>
                                 <p>World Tech Drone</p>
                              </div>
                           </div>
                           <div class="choose">
                              <ul class="nav nav-pills nav-justified">
                                 <li onclick="addToCart('images/home/product5.jpg', 'World Tech Drone', '129.99')"><a href="#"><i class="fa fa-shopping-cart"></i>Add to Shopping List</a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                     <div class="col-sm-4">
                        <div class="product-image-wrapper">
                           <div class="single-products">
                              <div class="productinfo text-center">
                                 <img src="images/home/product6.jpg" alt="" />
                                 <h2>$18.99</h2>
                                 <p>Plush Campside Fire Pillow</p>
                              </div>
                           </div>
                           <div class="choose">
                              <ul class="nav nav-pills nav-justified">
                                 <li onclick="addToCart('images/home/product6.jpg','Plush Campside Fire Pillow', '18.99')"><a href="#"><i class="fa fa-shopping-cart"></i>Add to Shopping List</a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div>
                  <!--features_items-->
               </div>
            </div>
         </div>
      </section>
      <script>
         $(document).ready(function() {
         
           // Initialize the plugin
           $('#my_popup').popup();
           $('#shopping_list').popup({openelement: '.cart_open', closeelement: '.shopping_list_close'});
         });
           
	  //function addToCart(image, item, price){
		//var ul = document.getElementById("slist");
		//var li = document.createElement("li");
		//li.appendChild(document.createTextNode(item));
		//ul.appendChild(li);
		//  }
		  
		var shoppingCart = [];
		
		function displayShoppingCart(){
			var orderedProductsTblBody=document.getElementById("slist");
			//ensure we delete all previously added rows from ordered products table
			while(orderedProductsTblBody.rows.length>0) {
				orderedProductsTblBody.deleteRow(0);
			}
			var cart_total_price=0;				//variable to hold total price of shopping cart
			var cart_total_items=0;
			
			for(var product in shoppingCart){				//iterate over array of objects    
				var row=orderedProductsTblBody.insertRow();		//add new row
				var cellPicture = row.insertCell(0); //create three cells for product properties
				var cellName = row.insertCell(1);
				var cellPrice = row.insertCell(2);
				cellPrice.align="right";
				//fill cells with values from current product object of our array
				cellName.innerHTML = shoppingCart[product].Name;
				cellPicture.innerHTML = shoppingCart[product].Picture;
				cellPrice.innerHTML = shoppingCart[product].Price;
				cart_total_price+=shoppingCart[product].Price;
				cart_total_items+=1;
			}
			//fill total cost of our shopping cart
			document.getElementById("cart_total").innerHTML= cart_total_price.toFixed(2);
			document.getElementById("total_items").innerHTML = cart_total_items;
		}
		function addToCart(picture,name,price){
		   //Below we create JavaScript Object that will hold three properties you have mentioned:    Name,Description and Price
		   var singleProduct = {};
		   //Fill the product object with data
		   singleProduct.Name=name;
		   var imgSrc = "<img src=" + picture + " width='30' height='30' >"
		   singleProduct.Picture=imgSrc;
		   singleProduct.Price=parseFloat(price);
		   //Add newly created product to our shopping cart 
		   shoppingCart.push(singleProduct);
		   //call display function to show on screen
		   displayShoppingCart();
		}  
	  </script>
   </body>
</html>